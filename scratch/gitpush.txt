https://stackoverflow.com/questions/53325544/jenkins-pipeline-git-push/56042640
https://stackoverflow.com/questions/61105368/how-to-use-github-personal-access-token-in-jenkins
### python subprocess https://stackabuse.com/executing-shell-commands-with-python/
subprocess.check_call(['your_command', 'arg 1', 'arg 2'], cwd=working_dir)
subprocess.check_call(['ls', '-l'], cwd=workingdir)
subprocess.Popen( '/usr/bin/git status', cwd = os.path.dirname( path ), shell = True, stdout = subprocess.PIPE, stderr = subprocess.PIPE )

deployment AccessKeyId
https://docs.github.com/en/developers/overview/managing-deploy-keys#deploy-keys
https://stackoverflow.com/questions/11040881/jenkins-build-using-git-with-deploy-key

https://stackoverflow.com/questions/59745958/how-to-passed-the-ssh-credential-in-jenkins-pipeline-while-deploying-to-another

https://gist.github.com/ivan-pinatti/de063b610d1bdf2da229c7874968f4d9

https://gist.github.com/xirixiz/b6b0c6f4917ce17a90e00f9b60566278


echo "# nct-reports-test" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin git@github.com:paulrobi/nct-reports-test.git
git push -u origin main

#################
config
Host github.com
        Hostname github.com
        User git
        PreferredAuthentications publickey
        UserKnownHostsFile=/dev/null
        IdentityFile /test/jenkinsgitpush-reports
        StrictHostKeyChecking no
        IdentitiesOnly yes

then
        eval `ssh-agent -s`

TEST  ssh -F /test/config -T git@github.com
GIT_SSH_COMMAND="ssh -F /test/config" git clone git@github.com:paulrobi/nct-reports-test.git

##################
808  GIT_SSH_COMMAND="ssh -F /test/config" git init
809  ll
810  GIT_SSH_COMMAND="ssh -F /test/config" git add xxx
811  GIT_SSH_COMMAND="ssh -F /test/config" git commit -m "test"
812  GIT_SSH_COMMAND="ssh -F /test/config" git branch -M main
813  GIT_SSH_COMMAND="ssh -F /test/config" git remote add origin git@github.com:paulrobi/nct-reports-test.git
814  GIT_SSH_COMMAND="ssh -F /test/config" git push -u origin main


within python3
https://stackoverflow.com/questions/44784828/gitpython-git-authentication-using-user-and-password
Pre-requisites
Note, that despite the name, password here is your access token generated by GitHub and NOT your GitHub password.

from git import Repo

full_local_path = "/path/to/repo/"
username = "your-username"
password = "your-password"
remote = f"https://{username}:{password}@github.com/some-account/some-repo.git"
Clone repository
This will store your credentials in .git/config, you won't need them later.

Repo.clone_from(remote, full_local_path)
Commit changes
repo = Repo(full_local_path)
repo.git.add("rel/path/to/dir/with/changes/")
repo.index.commit("Some commit message")

Push changes
As mentioned above, you don't need your credentials, since they are already stored in .git/config.

repo = Repo(full_local_path)
origin = repo.remote(name="origin")
origin.push()

https://stackoverflow.com/questions/11113896/use-git-commands-within-python-code

https://gitpython.readthedocs.io/en/stable/tutorial.html

>>https://www.youtube.com/watch?v=6mWc-FhQW5g
>>>https://www.youtube.com/watch?v=yYknmU_gBgs
** https://johnelder.com/code/
